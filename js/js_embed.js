function attrUnescape(e){return e?e.replace(/&quot;/g,'"').replace(/&amp;/g,"&"):""}function parseAttributes(e){for(var t=[],n=attrUnescape(e).split(/\s/g),i=n.length,o=0;o<i;o++){var a=n[o].split("=");t.push({name:a[0],value:a[1]?a[1].replace(/"/g,""):""})}return t}function getViewport(){var e,t=void 0!==window.innerWidth?(e=window.innerWidth,window.innerHeight):void 0!==document.documentElement&&void 0!==document.documentElement.clientWidth&&0!=document.documentElement.clientWidth?(e=document.documentElement.clientWidth,document.documentElement.clientHeight):(e=document.getElementsByTagName("body")[0].clientWidth,document.getElementsByTagName("body")[0].clientHeight);return[e,t]}void 0!==window.jQuery&&function(s,o){"use strict";var l={activeElement:void 0,lastActive:void 0,stackedElements:[],tabbableElements:"a[href], area[href], input:not([disabled]),select:not([disabled]), textarea:not([disabled]),button:not([disabled]), iframe, object, embed, *[tabindex],*[contenteditable]",on:function(e,t,n){var i=0;if("string"!=typeof e)throw new Error("Type error: `event` has to be a string");if("function"!=typeof n)throw new Error("Type error: `callback` has to be a function");if(t)for(t.length||(t=[t]);i<t.length;i++)try{o&&void 0!==o.fn&&void 0!==o.fn.on?o(t[i]).on(e,n):"addEventListener"in t[i]&&t[i].addEventListener(e,n,!1)}catch(e){console.log(e)}},trigger:function(e,t){var n,i={detail:{modal:t}};o?o(document).trigger(e,i):(document.createEvent?(n=document.createEvent("CustomEvent")).initCustomEvent(e,!1,!1,{modal:t}):n=new CustomEvent(e,i),document.dispatchEvent(n))},addClass:function(e,t){e&&!e.className.match(t)&&(e.className+=" "+t)},removeClass:function(e,t){e.className=e.className.replace(t,"").replace("  "," ")},hasClass:function(e,t){return!!e.className.match(t)},setFocus:function(){l.activeElement&&(l.lastActive=document.activeElement,l.activeElement.focus(),l.keepFocus(l.activeElement))},removeFocus:function(){l.lastActive&&l.lastActive.focus()},keepFocus:function(e){var t=[];try{t=e.querySelectorAll(l.tabbableElements)}catch(e){return}var n=l.getFirstElementVisible(t),i=l.getLastElementVisible(t);l.on("keydown",e,function(e){9===(e.which||e.keyCode)&&(e.preventDefault=e.preventDefault||function(){e.returnValue=!1},e.target!==i||e.shiftKey?e.target===n&&e.shiftKey&&(e.preventDefault(),i.focus()):(e.preventDefault(),n.focus()))})},getFirstElementVisible:function(e){var t=e.length;if(l.isElementVisible(e[0]))return e[0];for(var n=1;n<t-1;n++)if(l.isElementVisible(e[n]))return e[n];return null},getLastElementVisible:function(e){var t=e.length,n=e[t-1];if(l.isElementVisible(n))return n;for(var i=t-1;0<=i;i--)if(l.isElementVisible(e[i]))return e[i];return null},isElementVisible:function(e){return!(0===e.offsetWidth&&0===e.offsetHeight)},setActive:function(e){l.addClass(e,"is-active"),l.activeElement=e,l.activeElement.setAttribute("aria-hidden","false"),l.setFocus(e.id),l.trigger("cssmodal:show",l.activeElement)},unsetActive:function(e,t){l.removeClass(document.documentElement,"has-overlay"),l.activeElement&&(l.removeClass(l.activeElement,"is-active"),l.trigger("cssmodal:hide",l.activeElement),l.activeElement.setAttribute("aria-hidden","true"),l.removeFocus(),e&&!t&&l.stackModal(l.activeElement),!e&&0<l.stackedElements.length&&l.unstackModal(),l.activeElement=null)},stackModal:function(e){l.addClass(e,"is-stacked"),l.stackedElements.push(l.activeElement)},unstackModal:function(){var e=l.stackedElements.length,t=l.stackedElements[e-1];l.removeClass(t,"is-stacked"),s.location.hash=t.id,l.stackedElements.splice(e-1,1)},mainHandler:function(t,e){var n,i,o=s.location.hash.replace("#",""),a=0,r=[];if(e&&(o=t.currentTarget.getAttribute("href").replace("#","")),n=document.getElementById(o),-1!==o.indexOf("/")){if(a=(r=o.split("/")).pop(),o=r.join("/"),!(n=document.getElementById(o)))throw new Error('ReferenceError: element "'+o+'" does not exist!');n.index=+a}if(n){try{t.preventDefault()}catch(e){t.returnValue=!1}(i=n.children[0])&&i.className.match(/modal--inner/)&&(l.unsetActive(!l.hasClass(n,"is-active"),"false"===n.getAttribute("data-stackable")),l.addClass(document.documentElement,"has-overlay"),l._currentScrollPositionY=s.scrollY,l._currentScrollPositionX=s.scrollX,l.setActive(n),l.activeElement._noHash=e)}else l.unsetActive();return!0},injectIframes:function(){for(var e,t=document.querySelectorAll("[data-iframe-src]"),n=0;n<t.length;n++)(e=document.createElement("iframe")).src=t[n].getAttribute("data-iframe-src"),e.setAttribute("webkitallowfullscreen",!0),e.setAttribute("mozallowfullscreen",!0),e.setAttribute("allowfullscreen",!0),t[n].appendChild(e)},init:function(){this.on("keyup",document,function(e){var t=s.location.hash.replace("#","");if(27===e.keyCode){if(l.activeElement&&t===l.activeElement.id?s.location.hash="!":l.unsetActive(),l.lastActive)return!1;l.removeFocus()}},!1),this.on("click",document.querySelectorAll("[data-cssmodal-nohash]"),function(e){l.mainHandler(e,!0)}),this.on("click",document.querySelectorAll(".modal--close"),function(e){l.activeElement._noHash&&l.mainHandler(e,!0)}),this.on("hashchange",s,l.mainHandler),this.on("load",s,l.mainHandler),s.onscroll=s.onmousewheel=function(){document.documentElement.className.match(/has-overlay/)&&s.scrollTo(l._currentScrollPositionX,l._currentScrollPositionY)},l.injectIframes()}};"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=l:"function"==typeof define&&define.amd?define("CSSModal",[],function(){if(!s.CustomEvent&&!o)throw new Error("This browser doesn't support CustomEvent - please include jQuery.");return l.init(),l}):"object"==typeof s&&"object"==typeof s.document&&(s.CSSModal=l).init()}(window,window.jQuery);var addEvent=function(e,t,n){null!=e&&void 0!==e&&(e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent?e.attachEvent("on"+t,n):e["on"+t]=n)},mobileBreakpoint=690,resize=function(){for(var e=getViewport(),t=980<e[0]?980:e[0]-60,n=e[1]-90,i=document.getElementsByClassName("modal--inner"),o=document.getElementsByClassName("modal--content"),a=document.getElementsByClassName("modal--quiz-container"),r=0;r<i.length;r++){var s=i[r],l=o[r],c=a[r];s.style.width=t.toString()+"px",e[0]>mobileBreakpoint?s.style.marginLeft=(t/-2).toString()+"px":s.style.marginLeft="0px";var d=parseInt(c.style.height),u=d+40;l.style.minHeight=d&&u<n?u.toString()+"px":n.toString()+"px"}};addEvent(window,"resize",resize),resize(),function(h){var o,e,t,i="https://stillbloom-ltd.leadshook.io",f="quiz-iframe-",n="survey_css";document.getElementById(n)||(e=document.getElementsByTagName("head")[0],(t=document.createElement("link")).id=n,t.rel="stylesheet",t.type="text/css",t.href=i+"/s/css_embed",t.media="all",e.appendChild(t));function a(e,t,n){var i;if(this.videoUrl=n.videoUrl,this.stopAt=n.stopAt,this.el=e,this.quizId=e.getAttribute("data-quiz"),this.offset=e.getAttribute("data-offset"),this.isPreview=!!e.getAttribute("data-preview"),this.version=e.getAttribute("data-version"),this.isAutoscroll=e.getAttribute("data-autoscroll"),this.appendAttributes=e.getAttribute("data-append-attributes"),!this.quizId)return null;this.index=t,this.quizUrl=this.buildQuizUrl(),i=this.frame=this.createFrame(),this.videoUrl||this.render(i)}var r;function s(e){var t,n,i,o,a,r,s,l,c,d,u,m=[];if(e.data&&"function"==typeof e.data.split&&(m=e.data.split(":")),m[0]&&40===m[0].length&&-1!==e.origin.indexOf("leadshook")&&(t=f+m[0],(n=document.getElementById(t))&&n.contentWindow.postMessage("parentUrl:"+h.location.href,"*")),m[0]&&"scrollTop"===m[0])return i=f+m[1],s=i?(o=document.body.getBoundingClientRect(),a=document.getElementById(i).getAttribute("data-offset")||0,r=document.getElementById(i).getAttribute("data-autoscroll"),document.getElementById(i).parentElement.getBoundingClientRect().top-o.top-a):0,void("yes"===r&&("function"==typeof h.scrollTo?h.scrollTo({top:s,left:0,behavior:"smooth"}):document.documentElement&&"function"==typeof document.documentElement.scrollTo?document.documentElement.scrollTo({top:s,behavior:"smooth"}):document.body.scrollTop=s));m&&m[0]&&m[1]&&m[2]&&(l=m[0],c=m[1],d=m[2],u=m[3],v[d]&&v[d].quizId==l&&(v[d].resize(c,u),void 0!==resize&&resize()))}a.prototype.createFrame=function(){var e=document.createElement("iframe");e.setAttribute("height","100%"),o=f+this.quizId,e.setAttribute("id",o),e.setAttribute("width","100%"),e.setAttribute("allowFullScreen","true"),e.setAttribute("frameborder","0"),e.setAttribute("border","none"),e.setAttribute("scrolling","no"),e.setAttribute("style","width:100px; min-width:100%;*width: 100%;"),e.setAttribute("data-offset",this.offset||0),e.setAttribute("data-autoscroll",this.isAutoscroll),e.src=this.quizUrl;var t=this.appendAttributes?parseAttributes(this.appendAttributes):[];if(0<t.length)for(var n=t.length,i=0;i<n;i++)e.setAttribute(t[i].name,t[i].value);return this.frame=e},(h.onpopstate=function(){function e(e){return decodeURIComponent(e.replace(n," "))}var t,n=/\+/g,i=/([^&=]+)=?([^&]*)/g,o=h.location.search.substring(1);for(r={};t=i.exec(o);)r[e(t[1])]=e(t[2])})(),a.prototype.render=function(e,t){t?document.getElementById(t).appendChild(e):this.el.appendChild(e)},a.prototype.buildQuizUrl=function(){var e,t="";for(e in this.isPreview&&(r.preview=!0),r)t+="&"+e+"="+encodeURIComponent(r[e]);var n="survey";return"s"===this.version&&(n="s"),i+"/"+n+"/"+this.quizId+"?embed=true&index="+this.index+t},a.prototype.resize=function(e,t){var n,i,o,a,r,s,l;this.el.style.height=e+"px","scroll"===t&&(s=this.el,0<=(l=s.getBoundingClientRect()).bottom&&0<=l.right&&l.top<=(h.innerHeight||document.documentElement.clientHeight)&&l.left<=(h.innerWidth||document.documentElement.clientWidth))&&(n=Math.max(document.documentElement.clientHeight,h.innerHeight||0),i=function(e){var t=0;for(;isNaN(e.offsetTop)||(t+=e.offsetTop),e=e.offsetParent;);return t}(this.el),o=this.el.getAttribute("data-offset"),a=this.el.getAttribute("data-autoscroll"),r=e<n?i:parseInt(e,10)+i-n,"yes"===a&&h.scrollTo({top:r-o,left:0,behavior:"smooth"}))},h.addEventListener?h.addEventListener("message",s,!1):h.attachEvent&&h.attachEvent("onmessage",s);for(var l,c,d,v=h.quizzes=h.quizzes||[],u=document.querySelectorAll(".quiz-container"),m=u.length,p=0;p<m;p++){"true"===(d=u[p]).getAttribute("data-qz-initialized")||(l={videoUrl:d.getAttribute("data-video-url")||null,stopAt:d.getAttribute("data-stop-at")||-1},c=new a(d,p,l),d.setAttribute("data-qz-initialized","true"),v.push(c))}var g=document.getElementsByTagName("body")[0],E={};v.forEach(function(t,n){var e,i,o,a,r,s,l;t.videoUrl&&((e=document.createElement("div")).className="modal--show",e.id="modal_"+n,e.innerHTML='<div class="modal--inner" id="modal_inner_'+n+'">          <div class="modal--content" id="modal_content_'+n+'">          <div class="modal--quiz-container" id="modal_quiz_container_'+n+'"></div>          </div>          </div>          <a href="#!" class="modal--close" title="Close this modal" data-close="Close" data-dismiss="modal">?</a>',g.appendChild(e),i="player_"+n,(o=document.createElement("div")).id=i,document.getElementsByClassName("quiz-container")[n].append(o),s=t.videoUrl,r=(l=s.match(/^.*(youtu\.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=)([^#\&\?]*).*/))&&11==l[2].length?l[2]:null,h.onYouTubeIframeAPIReady=function(){a=new YT.Player(i,{height:"390",width:"640",videoId:r,events:{onReady:function(e){!function(e,t,n){var i=e.target;i.playVideo();var o=function(){i.getCurrentTime()>=n?(i.pauseVideo(),A(t)):setTimeout(o,1e3)};setTimeout(o,1e3)}(e,n,t.stopAt)}}}),E[n]=a})});var b=document.createElement("script");b.src="https://www.youtube.com/iframe_api";var y=document.getElementsByTagName("script")[0];y.parentNode.insertBefore(b,y);var A=function(e){h.location.hash="modal_"+e;var t,n=v[e];n&&(t="modal_quiz_container_"+e,n.el=document.getElementById(t),n.render(n.frame,t),resize())}}(window);
